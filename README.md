# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```


## Базовые классы

### Component
Базовый класс для всех компонентов представления. Предоставляет общие методы для работы с DOM-элементами, такие как установка и получение текста, переключение классов, управление disabled-состоянием элементов.

### EventEmitter
Класс EventEmitter обеспечивает работу событийной системы приложения. Его функции: возможность установить и снять слушателей событий, вызвать слушателей при возникновении события.

### Api
Класс Api обеспечивает взаимодействие с backend API. Его функции: выполнение HTTP-запросов, обработка ошибок, трансформация данных ответа.

## Модели данных

### ProductModel
Класс ProductModel управляет данными товаров. Хранит информацию о списке товаров, полученных из Api. Методом getProduct позволяет получить информацию о конкретном товаре по его идентификатору.

### BasketModel
Класс BasketModel управляет состоянием корзины покупок. Хранит список товаров products, которые находятся в корзине и сумму всех товаров totalSum. Так же класс отвечает за добавление товара в корзину или удаление методом addToCart с установкой состояния. Метод removeFromCart удаляет конкретный товар. После оформления заказа очищает всю корзину методом clear.

### OrderModel
Класс OrderModel управляет процессом оформления заказа. Хранит данные о способе оплаты payment, адресе доставки address, email и телефоне phone пользователя. Функция validateForm валидирует такие данные как адрес доставки, Email и номер телефона пользователя. Метод clear очищает все данные заказа после успешного оформления.

## Компоненты представления

### PageView
Класс PageView управляет главной страницей приложения. Отображает счетчик товаров в корзине counter, каталог товаров catalog и обрабатывает клик на кнопку корзины. Свойство locked блокирует прокрутку страницы при открытии модального окна.

### CardView
Класс CardView отображает карточку товара. Показывает название title, изображение image, категорию category, цену price и кнопку действия button. Используется как для отображения товаров в каталоге, так и для детального просмотра в модальном окне.

### BasketView
Класс BasketView отображает содержимое корзины. Отображает список добавленных товаров products и общую стоимость totalSum из BasketModel. Кнопка оформления заказа активна только при наличии товаров в корзине. При клике "Оформить" открывается форма заказа.

### BasketItemView
Класс BasketItemView отображает отдельный товар в корзине. Показывает порядковый номер id, название товара title, цену price и кнопку удаления. При клике на кнопку удаления товар убирается из корзины.

### OrderFormView
Класс OrderFormView отображает форму выбора способа оплаты и ввода адреса доставки. Содержит кнопки выбора способа оплаты paymentButtons и поле ввода адреса address. Метод setPaymentMethod устанавливает выбранный способ оплаты. Кнопка "Далее" активна только при заполнении всех полей.

### ContactsFormView
Класс ContactsFormView отображает форму ввода контактных данных. Содержит поля для ввода email и телефона phone. Кнопка "Оплатить" активна только при корректном заполнении обоих полей. После отправки формы метод clear очищает поля ввода.

### SuccessView
Класс SuccessView отображает модальное окно успешного оформления заказа. Показывает общую сумму списанных средств total и кнопку закрытия окна. При нажатии на кнопку модальное окно закрывается и пользователь возвращается в каталог.

### ModalView
Класс ModalView обеспечивает работу модальных окон. Методы open и close открывают и закрывают модальные окна соответственно. Модальное окно закрывается при клике на крестик или на оверлей.